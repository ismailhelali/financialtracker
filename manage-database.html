<!DOCTYPE html>
<html>
  <head>
    <style>
      /* CSS for table styling */
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }
      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
      th {
        background-color: #dddddd;
      }
    </style>
  </head>
  <body>
    <div>
      <input type="text" id="searchInput" placeholder="Search..." onkeyup="search()">
    </div>
    <table id="transactionsTable">
      <tr>
        <th>Date</th>
        <th>Amount</th>
        <th>Reference</th>
        <th>Type</th>
        <th>Name</th>
        <th>Actions</th>
      </tr>
      <tbody id="transactionsBody">
        <!-- Data from local storage will be inserted here -->
      </tbody>
    </table>

    <script>
      window.onload = function() {
        let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        displayTransactions(transactions);
      }
      
      // Function to display data in table
      function displayTransactions(transactions) {
        let transactionsBody = document.getElementById("transactionsBody");
        transactionsBody.innerHTML = "";
        for (let i = 0; i < transactions.length; i++) {
          let transaction = transactions[i];
          let row = document.createElement("tr");
          let dateCell = document.createElement("td");
          dateCell.innerHTML = transaction.date;
          let amountCell = document.createElement("td");
          amountCell.innerHTML = transaction.amount;
          let referenceCell = document.createElement("td");
          referenceCell.innerHTML = transaction.reference;
          let typeCell = document.createElement("td");
          typeCell.innerHTML = transaction.type;
          let nameCell = document.createElement("td");
          nameCell.innerHTML = transaction.name;
          let actionsCell = document.createElement("td");
          let editButton = document.createElement("button");
          editButton.innerHTML = "Edit";
          editButton.onclick = function() {
            // Get the index of the transaction to be edited
            let index = transactions.indexOf(transaction);

            // Create a dropdown menu for selecting the field to edit
            var options = ["Date", "Amount", "Reference","Type","Name"];
            var select = document.createElement("select");

            for (var i = 0; i < options.length; i++) {
                var option = document.createElement("option");
                option.value = options[i];
                option.text = options[i];
                select.appendChild(option);
            }

            var prompt = window.prompt("Please select a field to edit:", "");
if (prompt) {
var selectedOption = select.options[select.selectedIndex].text;
console.log("Selected option: " + selectedOption);

Copy code
            if (selectedOption === "Date") {
                let newDate = prompt("Enter the new date:");
                transactions[index].date = newDate;
            } else if (selectedOption === "Amount") {
                let newAmount = prompt("Enter the new amount:");
                transactions[index].amount = newAmount;
            } else if (selectedOption === "Reference") {
                let newReference = prompt("Enter the new reference:");
                transactions[index].reference = newReference;
            } else if (selectedOption === "Type") {
                var types = ["debit", "credit"];
                var selecttype = document.createElement("select");

                for (var i = 0; i < types.length; i++) {
                    var option = document.createElement("option");
                    option.value = types[i];
                    option.text = types[i];
                    selecttype.appendChild(option);
                }

                var prompt = window.prompt("Please select a type:", "");
                if (prompt) {
                    var selectedType = selecttype.options[selecttype.selectedIndex].text;
                    transactions[index].type = selectedType;
                }
            } else if (selectedOption === "Name") {
                let newName = prompt("Enter the new name:");
                transactions[index].name = newName;
            }

            // Update local storage and re-display transactions
            localStorage.setItem('transactions', JSON.stringify(transactions));
            displayTransactions(transactions);
        }
      }
      actionsCell.appendChild(editButton);
      row.appendChild(dateCell);
      row.appendChild(amountCell);
      row.appendChild(referenceCell);
      row.appendChild(typeCell);
      row.appendChild(nameCell);
      row.appendChild(actionsCell);
      transactionsBody.appendChild(row);
    }
  }
</script>
  </body>
</html>
