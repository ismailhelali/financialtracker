<!DOCTYPE html>
<html>
<head>
  <title>Financial Tracker</title>
  <style>

/* Style for the form and input fields */
form {
  display: flex;
  flex-direction: column;
}

label {
  font-weight: bold;
}

input, select {
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

button[type="submit"] {
  margin-top: 16px;
  padding: 8px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* Style for the transaction history div */
#transaction-history {
  margin-top: 32px;
}

#balance {
  font-weight: bold;
}

#transaction-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

#transaction-list li {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

#transaction-list button {
  background-color: #f44336;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
</style>
</head>
<body>

<!-- Form to input transaction details -->
<form id="transaction-form">
  <label for="creation-date">Creation Date:</label>
  <input type="date" id="creation-date">
  <br>
  <label for="expiration-date">Expiration Date:</label>
  <input type="date" id="expiration-date">
  <br>
  <label for="amount">Amount:</label>
  <input type="number" id="amount">
  <br>
  <label for="payment-reference">Payment Reference:</label>
  <input type="text" id="payment-reference">
  <br>
  <label for="type">Type:</label>
  <select id="type">
    <option value="input">Input</option>
    <option value="output">Output</option>
  </select>
  <br>
  <label for="company-name">Company Name:</label>
  <input type="text" id="company-name">
  <br>
  <button type="submit">Add Transaction</button>
</form>

<!-- Div to display balance and transaction history -->
<div id="transaction-history">
  <p>Balance: <span id="balance"></span></p>
  <ul id="transaction-list"></ul>
</div>

</body> 
</html>

    

<script>
// Get form and transaction history elements
const form = document.getElementById('transaction-form');
const transactionHistory = document.getElementById('transaction-history');

// Array to store transactions
let transactions = [];

// Load transactions from local storage, if any
if (localStorage.getItem('transactions')) {
  transactions = JSON.parse(localStorage.getItem('transactions'));
}

// Function to add a transaction
function addTransaction(event) {
  // Prevent form submission
  event.preventDefault();

  // Get form input values
  const creationDate = document.getElementById('creation-date').value;
  const expirationDate = document.getElementById('expiration-date').value;
  const amount = document.getElementById('amount').value;
  const paymentReference = document.getElementById('payment-reference').value;
  const type = document.getElementById('type').value;
  const companyName = document.getElementById('company-name').value;

  // Use AI to predict expiration date, if not provided
  if (!expirationDate) {
    // TODO: Use machine learning model to predict expiration date
  }

  // Use AI to determine transaction type, if not provided
  if (!type) {
    // TODO: Use machine learning model to classify transaction type
  }

  // Create new transaction object
  const transaction = {
    creationDate,
    expirationDate,
    amount,
    paymentReference,
    type,
    companyName
  };

  // Add transaction to array and update local storage
  transactions.push(transaction);
  localStorage.setItem('transactions', JSON.stringify(transactions));

  // Update balance and transaction history display
  updateDisplay();
}

// Function to update balance and transaction history display
function updateDisplay() {
  // Calculate balance
  let balance = 0;
  transactions.forEach((transaction) => {
    if (transaction.type === 'input') {
      balance += transaction.amount;
    } else {
      balance -= transaction.amount;
    }
  });

  // Update balance display
  document.getElementById('balance').textContent = balance;

  // Clear transaction list
  const transactionList = document.getElementById('transaction-list');
  transactionList.innerHTML = '';

  // Populate transaction list
  transactions.forEach((transaction) => {
    // Create list item
    const listItem = document.createElement('li');
    listItem.innerHTML = `
      ${transaction.creationDate} - ${transaction.companyName} - ${transaction.amount}
      <button data-index="${transactions.indexOf(transaction)}">Delete</button>
    `;

    // Append list item to transaction list
    transactionList.appendChild(listItem);
  });
}

// Function to delete a transaction
function deleteTransaction(event) {
  // Check if delete button was clicked
  if (event.target.tagName === 'BUTTON') {
    // Remove transaction from array and update local storage
    const index = event.target.getAttribute('data-index');
    transactions.splice(index, 1);
   
localStorage.setItem('transactions', JSON.stringify(transactions));

  // Update balance and transaction history display
  updateDisplay();
}

// Add event listeners
form.addEventListener('submit', addTransaction);
transactionHistory.addEventListener('click', deleteTransaction);
</script>
