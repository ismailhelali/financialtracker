<!DOCTYPE html>
<html>
<head>
  <title>Financial days Tracker</title>
  <style>
    /* Add some styling for the UI */
    table {
      border-collapse: collapse;
      width: 100%;
    }
    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    tr:nth-child(even) {
      background-color: #dddddd;
    }
  </style>
</head>
<body>
  <h1>Solde journalier Tracker</h1>
 

<form id="date-form">
  <label for="start-date">Start Date:</label><br>
  <input type="date" id="start-date"><br>
  <label for="end-date">End Date:</label><br>
  <input type="date" id="end-date"><br>
  <button type="submit" onclick="showBalance()">Show Balance</button>
</form> 
<div id="balance">balance</div>
</body>

</html>

<script>
// Retrieve the stored data from LocalStorage
let transactions = localStorage.getItem('transactions');

// Convert the stored data back into an array (assuming it was stored as a JSON string)
transactions = JSON.parse(transactions);

const tableBody = document.querySelector('#transaction-history tbody');
transactions.forEach(transaction => {
  const row = document.createElement('tr');
  const dateCell = document.createElement('td');
  const amountCell = document.createElement('td');
  const referenceCell = document.createElement('td');
  const typeCell = document.createElement('td');
  const nameCell = document.createElement('td');
  dateCell.appendChild(document.createTextNode(transaction.date));
  amountCell.appendChild(document.createTextNode(transaction.amount));
  referenceCell.appendChild(document.createTextNode(transaction.reference));
  typeCell.appendChild(document.createTextNode(transaction.type));
  nameCell.appendChild(document.createTextNode(transaction.name));
  row.appendChild(dateCell);
  row.appendChild(amountCell);
  row.appendChild(referenceCell);
  row.appendChild(typeCell);
  row.appendChild(nameCell);
  tableBody.appendChild(row);
});



function showBalance() {
  // Get the start and end dates from the form
  const startDateField = document.querySelector('#start-date');
  const endDateField = document.querySelector('#end-date');
  const startDate = new Date(startDateField.value);
  const endDate = new Date(endDateField.value);

  // Filter the transactions based on the start and end dates
  const filteredTransactions = transactions.filter(transaction => {
    const transactionDate = new Date(transaction.date);
    return transactionDate >= startDate && transactionDate <= endDate;
  });

  // Calculate the balance, input, and output
  let balance = 0;
  let input = 0;
  let output = 0;
  filteredTransactions.forEach(transaction => {
    if (transaction.type === 'credit') {
      input += transaction.amount;
    } else {
      output += transaction.amount;
    }
    balance += transaction.amount;
  });

  // Update the balance, input, and output fields with the calculated values
  const balanceField = document.querySelector('#balance');
  const inputField = document.querySelector('#input');
  const outputField = document.querySelector('#output');
  balanceField.textContent = balance;
  inputField.textContent = input;
  outputField.textContent = output;
}
</script>

