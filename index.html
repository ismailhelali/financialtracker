<!DOCTYPE html>
<html>
<head>
  <title>Financial Tracker</title>
  <style>
    /* Add some styling for the UI */
    table {
      border-collapse: collapse;
      width: 100%;
    }
    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    tr:nth-child(even) {
      background-color: #dddddd;
    }
  </style>
</head>
<body>
  <h1>Financial Tracker</h1>
  <!-- Use a form to capture input from the user -->
  <form id="transaction-form">
    <label for="date">Date:</label><br>
    <input type="date" id="date"><br>
    <label for="amount">Amount:</label><br>
    <input type="number" id="amount"><br>
    <label for="reference">Reference:</label><br>
    <input type="text" id="reference"><br>
    <label for="type">Type of Payment:</label><br>
    <select id="type">
      <option value="debit">Debit</option>
      <option value="credit">Credit</option>
    </select><br>
    <label for="name">Name:</label><br>
    <input type="text" id="name"><br><br>
    <button type="submit">Add Transaction</button>
  </form> 
  <!-- Display the current balance and input/output -->
  <h2>Current Balance: <span id="balance">0</span></h2>
  <h3>Input: <span id="input">0</span></h3>
  <h3>Output: <span id="output">0</span></h3>
  <!-- Display the transaction history -->
  <h2>Transaction History</h2>
  <table id="transaction-history">
    <tr>
      <th>Date</th>
      <th>Amount</th>
      <th>Reference</th>
      <th>Type</th>
      <th>Name</th>
    </tr>
  </table>
  <script>
    // Get a reference to the form and input fields
    const form = document.querySelector('#transaction-form');
    const dateField = document.querySelector('#date');
    const amountField = document.querySelector('#amount');
    const referenceField = document.querySelector('#reference');
    const typeField = document.querySelector('#type');
    const nameField = document.querySelector('#name');
    // Get a reference to the elements that display the current balance and input/output
    const balanceField = document.querySelector('#balance');
    const inputField = document.querySelector('#input');
    const outputField = document.querySelector('#output');
    // Get a reference to the transaction history table
    const historyTable = document.querySelector('#transaction-history');
   
  // Set up an event listener for the form submission
  form.addEventListener('submit', e => {
    // Prevent the default form submission behavior
    e.preventDefault();
    // Get the values from the form fields
    const date = dateField.value;
    const amount = amountField.value;
    const reference = referenceField.value;
    const type = typeField.value;
    const name = nameField.value;
    // Create a new object to represent the transaction
    const transaction = { date, amount, reference, type, name };
    // Store the transaction in local storage
    let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    transactions.push(transaction);
    localStorage.setItem('transactions', JSON.stringify(transactions));
    // Update the balance and input/output values
    let balance = 0;
    let input = 0;
    let output = 0;
    transactions.forEach(t => {
      if (t.type === 'credit') {
        balance += parseInt(t.amount);
        input += parseInt(t.amount);
      } else {
        balance -= parseInt(t.amount);
        output += parseInt(t.amount);
      }
    });
    balanceField.textContent = balance;
    inputField.textContent = input;
    outputField.textContent = output;
    // Add the transaction to the history table
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${transaction.date}</td>
      <td>${transaction.amount}</td>
      <td>${transaction.reference}</td>
      <td>${transaction.type}</td>
      <td>${transaction.name}</td>
    `;
    historyTable.appendChild(row);
    // Clear the form fields
    form.reset();
  });
  // Load the transaction history from local storage and display it
  const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
  transactions.forEach(transaction => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${transaction.date}</td>
      <td>${transaction.amount}</td>
      <td>${transaction.reference}</td>
      <td>${transaction.type}</td>
      <td>${transaction.name}</td>
    `;
    historyTable.appendChild(row);
  });
  // Update the balance and input/output values
  let balance = 0;
  let input = 0;
  let output = 0;
  transactions.forEach(t => {
    if (t.type === 'credit') {
      balance += parseInt(t.amount);
      input += parseInt(t.amount);
    } else {
      balance -= parseInt(t.amount);
      output += parseInt(t.amount);
    }
  });
  balanceField.textContent = balance;
  inputField.textContent = input;
  outputField.textContent = output;
</script>
</body>
</html>
